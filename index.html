
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>OKBUDDYVOWSH</title>
    <link rel="stylesheet" href="./styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Kanit:wght@700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@300&family=Montserrat:wght@100&family=Open+Sans:wght@400&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@100&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <header>
      <div class="content-container">
        <div>
          <h2 class="logotype longform">OKBUDDYVOWSH</h2>
          <div class="transition-container">
            <h2 class="logotype">O</h2>
            <h2 class="logotype">B</h2>
            <h2 class="logotype">V</h2>
          </div>
        </div>
        <div>
          <img src="./settings.png" class="settings" onclick="settings()" alt="">
          <div class="spacer"></div>
        </div>
      </div>
      <div class="line"></div>
    </header>
      <ul class="menu">
      <li><input type="checkbox" onclick="swap()"><h3>Scroll to Zoom</h3></li>
      <li><input type="checkbox" onclick="swap1()"><h3>Lib Mode</h3></li>
      <li><input type="checkbox" onclick="swap2()"><h3>Remember Preferences</h3></li>
    </ul>
    <div class="containerh">
      <img src="./4rtq9eedozt61.jpg" class="img" alt="">
      <h1 class="phrase">Not a Safe Space for Anti-NATO Expansion ‚ÄúPeople‚Äù</h2>
    </div> 
    <div style="height: 10vh;"></div>
    <div class="post" data-show-post="0"><div class="container">
                      <div style="padding: max(1.2rem ,1.6vh + 0.6rem);">
                      <h3 class="updoot">709</h3>
                      <h3 class="title">Vaush rad, Destiny sad</h3>
                      <h5 class="author">u/Ancient-Salamander48</h5>
                      
                      <div class="button" onclick="showhidefunc(this)"><h4 class="author">show post</p></div>
                      </div>
                      <div class="cursorpath" >
                        <iframe class="meme" id="reddit-embed" src="https://www.redditmedia.com/r/okbuddyvowsh/comments/vwj8hd/vaush_rad_destiny_sad/?ref_source=embed&amp;ref=share&amp;embed=true" sandbox="allow-scripts allow-same-origin allow-popups" style="border: none;" height='518' width="640" scrolling="no"></iframe>
                        <img class="meme" onmouseover="disableScroll(this)" onmouseout="enableScroll()" src='https://i.redd.it/61h6d9jh4ya91.png' alt="">
                      </div>
                      </div>
    </div>
    <div class="post" data-show-post="0"><div class="container">
                      <div style="padding: max(1.2rem ,1.6vh + 0.6rem);">
                      <h3 class="updoot">660</h3>
                      <h3 class="title">Average Vaushista</h3>
                      <h5 class="author">u/XiVillian</h5>
                      
                      <div class="button" onclick="showhidefunc(this)"><h4 class="author">show post</p></div>
                      </div>
                      <div class="cursorpath" >
                        <iframe class="meme" id="reddit-embed" src="https://www.redditmedia.com/r/okbuddyvowsh/comments/vxc8t3/average_vaushista/?ref_source=embed&amp;ref=share&amp;embed=true" sandbox="allow-scripts allow-same-origin allow-popups" style="border: none;" height='518' width="640" scrolling="no"></iframe>
                        <img class="meme" onmouseover="disableScroll(this)" onmouseout="enableScroll()" src='https://i.redd.it/e6eby2wos6b91.jpg' alt="">
                      </div>
                      </div>
    </div>
    <div class="post" data-show-post="0"><div class="container">
                      <div style="padding: max(1.2rem ,1.6vh + 0.6rem);">
                      <h3 class="updoot">557</h3>
                      <h3 class="title">Literally fed shit, nothing has fucked socialism more</h3>
                      <h5 class="author">u/Modren-dipshit</h5>
                      
                      <div class="button" onclick="showhidefunc(this)"><h4 class="author">show post</p></div>
                      </div>
                      <div class="cursorpath" >
                        <iframe class="meme" id="reddit-embed" src="https://www.redditmedia.com/r/okbuddyvowsh/comments/vwsxla/literally_fed_shit_nothing_has_fucked_socialism/?ref_source=embed&amp;ref=share&amp;embed=true" sandbox="allow-scripts allow-same-origin allow-popups" style="border: none;" height='420' width="640" scrolling="no"></iframe>
                        <img class="meme" onmouseover="disableScroll(this)" onmouseout="enableScroll()" src='https://i.redd.it/1x4oye4260b91.jpg' alt="">
                      </div>
                      </div>
    </div>
    <div class="post" data-show-post="0"><div class="container">
                      <div style="padding: max(1.2rem ,1.6vh + 0.6rem);">
                      <h3 class="updoot">427</h3>
                      <h3 class="title">I'LL WRITE YOU COMICS, BABY! üí™ WITH ECONOMICS, BABY! üìà WITH BIDENOMICS, BABY! üç¶üìà ATOMIC BOMB IT, YEEEAAH! üí•</h3>
                      <h5 class="author">u/Roxxagon</h5>
                      
                      <div class="button" onclick="showhidefunc(this)"><h4 class="author">show post</p></div>
                      </div>
                      <div class="cursorpath" >
                        <iframe class="meme" id="reddit-embed" src="https://www.redditmedia.com/r/okbuddyvowsh/comments/vxg5yt/ill_write_you_comics_baby_with_economics_baby/?ref_source=embed&amp;ref=share&amp;embed=true" sandbox="allow-scripts allow-same-origin allow-popups" style="border: none;" height='537' width="640" scrolling="no"></iframe>
                        <img class="meme" onmouseover="disableScroll(this)" onmouseout="enableScroll()" src='https://i.redd.it/dmz74g6k56b91.jpg' alt="">
                      </div>
                      </div>
    </div>
</body>
  <script>
    post =-1;
    settList = document.querySelectorAll("input");
    zoom=settList[0];
    darkMode=settList[1];
    rememberPref=settList[2];

    rememberPref.checked=localStorage.getItem("RememberPreferences") === 'true';
    if(rememberPref.checked){
      zoom.checked=localStorage.getItem("ScrolltoZoom") === 'true';
      darkMode.checked=localStorage.getItem("DarkMode") === 'true';
    }

    swapv= 1+zoom.checked;
    swap1();

    var scrollableElement = document.body; //document.getElementById('scrollableElement');
    scrollableElement.addEventListener('wheel', checkScrollDirection);

    function checkScrollDirection(event) {
      var list = document.getElementsByClassName("post");
      meme =0;
      container =0;
      if(post!=-1){
        if (checkScrollDirectionIsUp(event)) {
          meme = parseFloat(window.getComputedStyle(post).width)+30;
          container = parseFloat(window.getComputedStyle(post.parentElement.parentElement).width)+30;
        }else{
          meme = parseFloat(window.getComputedStyle(post).width)-30;
          container = parseFloat(window.getComputedStyle(post.parentElement.parentElement).width)-30;
        }
        if(container+window.innerHeight*0.02>640 && container<meme+window.innerHeight*0.02){
          post.parentElement.parentElement.style.width = container+"px";
        }
        post.style.width = meme+"px";
      }
    }

    function checkScrollDirectionIsUp(event) {
      if (event.wheelDelta) {
        return event.wheelDelta > 0;
      }
      return event.deltaY < 0;
    }
    //Colapsing of logo
    const SectionOne = document.querySelector(".containerh");
    const header =document.querySelector("header");
    const options ={
      rootMargin:"-70px 0px 0px 0px"
    };
    let i=1;

    const sectionObserver = new IntersectionObserver( function(entries, sectionObserver){
      entries.forEach(entries => {
        if(i){
          i=0
        }else{
          header.setAttribute("data-logotype",+entries.isIntersecting);
        }
      })
    },options);

    sectionObserver.observe(SectionOne);

    //Opening of settings
    function settings(){
      menu = document.querySelector(".menu");
      sett = +!+menu.getAttribute("data-settings");
      menu.setAttribute("data-settings",sett);
    }

    var keys = {37: 1, 38: 1, 39: 1, 40: 1};

    function preventDefault(e) {
      e.preventDefault();
    }

    function preventDefaultForScrollKeys(e) {
      if (keys[e.keyCode]) {
        preventDefault(e);
        return false;
      }
    }

    // modern Chrome requires { passive: false } when adding event
    var supportsPassive = false;
    try {
      window.addEventListener("test", null, Object.defineProperty({}, 'passive', {
        get: function () { supportsPassive = true; } 
      }));
    } catch(e) {}

    var wheelOpt = supportsPassive ? { passive: false } : false;
    var wheelEvent = 'onwheel' in document.createElement('div') ? 'wheel' : 'mousewheel';

    function disableScroll(meme) {
        post=meme;
        window.addEventListener('DOMMouseScroll', preventDefault, false); // older FF
        window.addEventListener(wheelEvent, preventDefault, wheelOpt); // modern desktop
    }
      
    function enableScroll() {
        window.removeEventListener('DOMMouseScroll', preventDefault, false);
        window.removeEventListener(wheelEvent, preventDefault, wheelOpt); 
        post =-1;
    }

    function swap(){
      swapv= 1+zoom.checked;
      elementList = document.querySelectorAll(".post");
      for (var i=0; i<elementList.length; i++){
        data =elementList[i].getAttribute("data-show-post");
        if(data!=0){
          elementList[i].setAttribute("data-show-post",swapv);
          resize(elementList[i]);
        }
      }
      if(rememberPref.checked){
        localStorage.setItem("ScrolltoZoom",zoom.checked);
      }
    }
    
    function swap1(){
      var darkValues =[
        {variableName: "--bg-color", variableValue:"rgb(30, 30, 30)"},
        {variableName: "--txt-color", variableValue:"rgb(255, 255, 255)"},
        {variableName: "--detail-color", variableValue:"rgb(60, 60, 60)"},
        {variableName: "--bg-gray", variableValue:"rgb(0, 0, 0)"},
        {variableName: "--bg-darkgray", variableValue:"rgb(50, 50, 50)"},
        {variableName: "--bg-image", variableValue:"url(./evs1t6179dn71.png)"},
        {variableName: "--invert", variableValue:"1"},
        {variableName: "--flair", variableValue:"none"}
      ];

      var lightValues =[
        {variableName: "--bg-color", variableValue:"rgb(255, 255, 255)"},
        {variableName: "--txt-color", variableValue:"rgb(0,0,0)"},
        {variableName: "--detail-color", variableValue:"rgb(221, 221, 221)"},
        {variableName: "--bg-gray", variableValue:"rgb(245, 245, 245)"},
        {variableName: "--bg-darkgray", variableValue:"rgb(232, 232, 232)"},
        {variableName: "--bg-image", variableValue:"url(./okb1t6179dn71.png)"},
        {variableName: "--invert", variableValue:"0"},
        {variableName: "--flair", variableValue:"inline-block"}
      ];

      var tempValues;

      if(darkMode.checked){
        tempValues=darkValues;
      }else{
        tempValues=lightValues;
      }
      for(var i=0;i<darkValues.length;i++){
        document.documentElement.style.setProperty(tempValues[i].variableName,tempValues[i].variableValue);
      }
      if(rememberPref.checked){
        localStorage.setItem("DarkMode",darkMode.checked);
      }
    }

    function swap2(){
      localStorage.setItem("RememberPreferences",rememberPref.checked);
      if(rememberPref.checked){
        localStorage.setItem("ScrolltoZoom",zoom.checked);
        localStorage.setItem("DarkMode",darkMode.checked);
      }
      else{
        localStorage.setItem("ScrolltoZoom",false);
        localStorage.setItem("DarkMode",false);
      }
    }

    function showhidefunc(button){
      showhide =button.parentElement.parentElement.parentElement;
      if(showhide.getAttribute("data-show-post")==0){
        showhide.setAttribute("data-show-post",swapv);
        button.querySelector(".author").innerText="hide post";
      }else{
        showhide.setAttribute("data-show-post",0);
        button.querySelector(".author").innerText="show post";
      }
      resize(showhide);
    }

    document.addEventListener('click', function(e) {
        var container = document.querySelector(".menu");
        var settButton = document.querySelector(".settings");
        if (!container.contains(e.target)&&!settButton.contains(e.target)&&container.getAttribute("data-settings")!=null) {
          container.setAttribute("data-settings",0);
        }
    });

    function resize(resizeme){
      resizeme.querySelector(".container").style.width="640px";
      resizelist = resizeme.getElementsByClassName("meme");
      if(resizelist.length<2){
        return 0;
      }
      resizeme = resizelist[1];
      if(swapv==2){
        aspectratio = resizeme.clientWidth/resizeme.clientHeight;
        if(aspectratio >= 1){
            resizeme.style.width="640px";
        }else{
            resizeme.style.width=640*aspectratio+"px";
        }
      }
    }
  </script>
</html>